<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login</title>
 <link rel="icon" type="image/png" href="favicon.png">


<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
  * { 
    margin:0; padding:0; box-sizing:border-box; 
    font-family:"Poppins", sans-serif;
  }

  /* ----- Background Image + Blur ----- */
  body {
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: url("GTEC Conference Facility_(Front View).jpg") no-repeat center center/cover;
    position:relative;
  }

  body::after {
    content:"";
    position:absolute;
    top:0; left:0; right:0; bottom:0;
    backdrop-filter: blur(10px);
    background: rgba(0,0,0,0.4); /* Dark overlay */
    z-index:0;
  }

  .login-box {
    position:relative;
    width:350px;
    max-width:90%;
    padding:40px;
    background:rgba(255,255,255,0.1);
    backdrop-filter:blur(12px);
    border-radius:14px;
    box-shadow:0 8px 25px rgba(0,0,0,0.3);
    text-align:center;
    z-index:1;
  }

  .login-box.shake {
    animation: shake 0.3s;
  }

  @keyframes shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-10px); }
    40% { transform: translateX(10px); }
    60% { transform: translateX(-10px); }
    80% { transform: translateX(10px); }
    100% { transform: translateX(0); }
  }

  h2 {
    color:white;
    margin-bottom:20px;
    font-size:23px;
    font-weight:600;
  }

  .input-group {
    margin-top:15px; text-align:left; position:relative;
  }

  .input-group label {
    font-size:14px; color:white;
  }

  .input-group input {
    width:100%;
    padding:12px;
    border:none; outline:none;
    border-radius:8px;
    margin-top:5px;
    font-size:15px;
    background:white;
  }

  .toggle-password {
    position:absolute;
    right:12px; top:38px;
    color:#4A00E0;
    font-size:13px;
    cursor:pointer;
    user-select:none;
  }

  button {
    margin-top:25px;
    width:100%;
    padding:12px;
    border:none;
    border-radius:8px;
    background:white;
    color:#4A00E0;
    font-weight:600;
    font-size:16px;
    cursor:pointer;
    transition:0.3s;
  }
  button:hover { background:#e6e6e6; }

  .error {
    margin-top:12px;
    color:#ffaaaa;
    font-size:14px;
    text-align:center;
  }

  @media (max-width:400px) {
    .login-box { padding:30px; }
    h2 { font-size:22px; }
  }

.logo {
  width: 90px;           /* Adjust the size */
  height: auto;           /* Keep aspect ratio */
  border-radius: 12px;    /* Make edges rounded (increase for more roundness) */
  cursor: pointer;        /* Optional: pointer on hover */
  transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth hover effect */
}
 
</style>
</head>
<body>


<!-- Loading Popup -->
<div id="loadingPopup" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(5px);
  z-index: 9999;
  display: none;
">
  <div style="
    background: white;
    padding: 25px 35px;
    border-radius: 12px;
    box-shadow: 0 4px 13px rgba(0,0,0,0.2);
    text-align: center;
  ">
    <div class="spinner" style="
      width: 35px;
      height: 35px;
      border: 4px solid #ddd;
      border-top-color: #0066ff;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin: auto;
    "></div>
    <p style="margin-top: 15px; font-size: 16px; color: #333;">Loading...</p>
  </div>
</div>

<!-- Spinner Animation -->
<style>
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
</style>



 

<div class="login-box" id="loginBox">
 <img src="logo1.jpg" alt="Logo" class="logo">
  <h2>GTEC Conference Facility</h2>

  <div class="input-group">
    <label>Email</label>
    <input type="email" id="email" placeholder="Enter email" />
  </div>

  <div class="input-group">
    <label>Password</label>
    <input type="password" id="password" placeholder="Enter password" />
    <span class="toggle-password" id="togglePassword">Show</span>
  </div>

  <button id="loginBtn">Log In</button>

  <p class="error" id="errorMsg"></p>
</div>


<script>
/* ---------- YOUR FIREBASE CONFIG ---------- */
const firebaseConfig = {
  apiKey: "AIzaSyA80t2tr136ihN57YQWwD4nYcPhyutACX4",
  authDomain: "userlogin-44d0a.firebaseapp.com",
  projectId: "userlogin-44d0a",
  storageBucket: "userlogin-44d0a.firebasestorage.app",
  messagingSenderId: "47108256134",
  appId: "1:47108256134:web:60888fa5f06dfb075d3c07",
  measurementId: "G-ZCVWTTFT2H"
};

 

firebase.initializeApp(firebaseConfig);

firebase.auth().onAuthStateChanged((user) => {
  if (user && user.emailVerified) {
    window.location.replace("dashboard.html");
  }
});

const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
const errorMsg = document.getElementById("errorMsg");
const loginBox = document.getElementById("loginBox");
const togglePassword = document.getElementById("togglePassword");

togglePassword.onclick = () => {
  passwordInput.type = passwordInput.type === "password" ? "text" : "password";
  togglePassword.textContent = passwordInput.type === "password" ? "Show" : "Hide";
};

async function login() {
  const email = emailInput.value.trim();
  const password = passwordInput.value.trim();
  errorMsg.textContent = "";

  if (!email || !password) {
    errorMsg.textContent = "Please fill in both fields.";
    loginBox.classList.add("shake");
    setTimeout(() => loginBox.classList.remove("shake"), 300);
    return;
  }

  document.getElementById("loadingPopup").style.display = "flex";

  try {
    const cred = await firebase.auth().signInWithEmailAndPassword(email, password);

    if (!cred.user.emailVerified) {
      document.getElementById("loadingPopup").style.display = "none";
      errorMsg.textContent = "Please verify your email.";
      await firebase.auth().signOut();
      return;
    }

    window.location.replace("dashboard.html");

  } catch (err) {
    document.getElementById("loadingPopup").style.display = "none";
    let message = "Login failed. Please try again.";

switch (err.code) {
  case "auth/invalid-credential":
    message = "Incorrect email or password.";
    break;

  case "auth/user-not-found":
    message = "No account found with this email.";
    break;

  case "auth/wrong-password":
    message = "Incorrect password.";
    break;

  case "auth/too-many-requests":
    message = "Too many attempts. Please try again later.";
    break;

  case "auth/user-disabled":
    message = "This account has been disabled. Contact admin.";
    break;
}

errorMsg.textContent = message;

    loginBox.classList.add("shake");
    setTimeout(() => loginBox.classList.remove("shake"), 300);
  }
}

document.getElementById("loginBtn").onclick = login;
document.addEventListener("keydown", e => e.key === "Enter" && login());
</script>




</body>
</html>


